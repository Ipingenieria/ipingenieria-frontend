
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Registro de Movimiento</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background-color: #f7f7f7; }
    form { background: white; padding: 20px; border-radius: 10px; max-width: 700px; margin: auto; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    label { display: block; margin-top: 10px; font-weight: bold; }
    input, select { width: 100%; padding: 8px; margin-top: 5px; }
    button { margin-top: 20px; padding: 10px 20px; font-weight: bold; }
  </style>
</head>
<body>
  <form id="formMovimiento">
    <h2>ğŸ” Registro Inteligente de Movimiento</h2>

    <label for="producto_id">ğŸ“¦ Producto</label>
    <select id="producto_id" required>
      <option value="">Cargando productos...</option>
    </select>

    <label for="tipo_movimiento">ğŸ”„ Tipo de Movimiento</label>
    <select id="tipo_movimiento" required>
      <option value="">Selecciona...</option>
      <option value="Entrada">â¬†ï¸ Entrada</option>
      <option value="Salida">â¬‡ï¸ Salida</option>
    </select>

    <label for="tipo_operacion">ğŸ“‹ Tipo de OperaciÃ³n</label>
    <select id="tipo_operacion" required>
      <option value="Compra">Compra</option>
      <option value="Venta">Venta</option>
      <option value="Uso interno">Uso interno</option>
      <option value="Gasto tÃ©cnico">Gasto tÃ©cnico</option>
      <option value="ReposiciÃ³n">ReposiciÃ³n</option>
    </select>

    <label for="cantidad">ğŸ”¢ Cantidad</label>
    <input type="number" id="cantidad" required>

    <label for="valor_unitario">ğŸ’µ Valor Unitario (sin IVA)</label>
    <input type="number" id="valor_unitario" required>

    <label for="tiene_iva">ğŸ’¡ Â¿Tiene IVA?</label>
    <select id="tiene_iva">
      <option value="false">âŒ No</option>
      <option value="true">âœ… SÃ­</option>
    </select>

    <label for="porcentaje_iva">ğŸ“ˆ Porcentaje IVA (%)</label>
    <input type="number" id="porcentaje_iva" placeholder="Ej: 19">

    <label for="requiere_registro_dinero">ğŸ’° Â¿Genera registro en flujo de dinero?</label>
    <select id="requiere_registro_dinero">
      <option value="false">No</option>
      <option value="true">SÃ­</option>
    </select>

    <label for="tipo_registro_dinero">ğŸ“Š Tipo de Flujo</label>
    <select id="tipo_registro_dinero">
      <option value="">Selecciona...</option>
      <option value="Ingreso">Ingreso</option>
      <option value="Egreso">Egreso</option>
    </select>

    <label for="subtipo_dinero">ğŸ“ Subtipo contable</label>
    <input type="text" id="subtipo_dinero" placeholder="Ej: Gasto operativo, Compra inventario">

    <label for="vinculado_a">ğŸ”— Vinculado a</label>
    <input type="text" id="vinculado_a" placeholder="Proyecto, Venta, Ninguno">

    <label for="referencia_relacionada">ğŸ”– Referencia relacionada (ID)</label>
    <input type="text" id="referencia_relacionada">

    <label for="observaciones">ğŸ“ Observaciones</label>
    <input type="text" id="observaciones">

    <label for="registrado_por">ğŸ‘¤ Registrado por</label>
    <input type="text" id="registrado_por">

    <button type="submit">Registrar Movimiento</button>
  </form>

  <script src="registro_movimiento.js"></script>
</body>
</html>
